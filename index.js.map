{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\n\nconst gallery = document.querySelector('.js-gallery');\n\nlet lightbox = null;\n\nconst createGallery = ({\n  webformatURL: src,\n  tags: alt,\n  largeImageURL: href,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n<li class=\"gallery-item\">\n   <a class=\"gallery-link\" href=\"${href}\">\n\t\t<img \n\t\t  class=\"gallery-img\" \n\t\t  src=\"${src}\" \n\t\t  alt=\"${alt}\" \n\t\t/>\n   </a>\n   <div class=\"image-stats\">\n    <p><b>Likes</b><br>${likes}</p>\n    <p><b>Views</b><br>${views}</p>\n    <p><b>Comments</b><br>${comments}</p>\n    <p><b>Downloads</b><br>${downloads}</p>\n  </div>\n</li>\n`;\n};\n\n// Function to render the all gallery\nexport function renderGallery(hits) {\n  const galleryCardsMarkup = hits.map(createGallery).join('');\n  gallery.innerHTML = galleryCardsMarkup;\n\n  // Oновлюємо SimpleLightbox\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.js-gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n}\n\n//Function - clear galleries\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n","export const getImagesByQuery = query => {\n  const params = new URLSearchParams({\n    key: '50304425-dc6600d3dd72044e5b60da34e',\n    q: query,\n    image_type: 'photo',\n    per_page: '9',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  console.log(params.toString());\n\n  return fetch(`https://pixabay.com/api/?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n\n// import axios from 'axios';\n\n// const API_KEY = '50304425-dc6600d3dd72044e5b60da34e';\n// const BASE_URL = 'https://pixabay.com/api/';\n\n// export async function getImagesByQuery(query) {\n//   const params = {\n//     key: API_KEY,\n//     q: query,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: true,\n//     per_page: 9,\n//   };\n\n//   try {\n//     const response = await axios.get(BASE_URL, { params });\n//     return response.data; // повертає тільки data\n//   } catch (error) {\n//     throw new Error(`Failed to fetch images: ${error.message}`);\n//   }\n// }\n","import iziToast from 'izitoast';\nimport { renderGallery, clearGallery } from './js/render-functions';\nimport { getImagesByQuery } from './js/pixabay-api';\n\nconst refs = {\n  searchForm: document.querySelector('.js-form'),\n};\n\n//-----retrieving the value from input\nconst onSearchForm = event => {\n  event.preventDefault();\n\n  const query = event.currentTarget.elements.search_text.value.trim();\n\n  // -----checking if input empty or not\n  if (query === '') {\n    return;\n  }\n\n  //-----retrieving the hits object by destructurisation\n  getImagesByQuery(query)\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        iziToast.error({\n          title: '',\n          titleColor: '#fff',\n          message:\n            'Sorry, there are no images matching your search query. Please, try again!',\n          position: 'topRight',\n          icon: '',\n          close: true,\n          messageColor: '#fff',\n          backgroundColor: '#ef4040',\n        });\n\n        refs.searchForm.reset(); //clearing input\n        clearGallery(); //Function - clear galleries\n        return;\n      }\n\n      // Rendering the gallery\n      renderGallery(hits);\n      refs.searchForm.reset(); //clearing input\n    })\n    .catch(err => {\n      console.error(err);\n    });\n};\n\nrefs.searchForm.addEventListener('submit', onSearchForm);\n"],"names":["gallery","lightbox","createGallery","src","alt","href","likes","views","comments","downloads","renderGallery","hits","galleryCardsMarkup","SimpleLightbox","clearGallery","getImagesByQuery","query","params","response","refs","onSearchForm","event","iziToast","err"],"mappings":"6vBAEA,MAAMA,EAAU,SAAS,cAAc,aAAa,EAEpD,IAAIC,EAAW,KAEf,MAAMC,EAAgB,CAAC,CACrB,aAAcC,EACd,KAAMC,EACN,cAAeC,EACf,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,mCAE0BJ,CAAI;AAAA;AAAA;AAAA,WAG5BF,CAAG;AAAA,WACHC,CAAG;AAAA;AAAA;AAAA;AAAA,yBAIWE,CAAK;AAAA,yBACLC,CAAK;AAAA,4BACFC,CAAQ;AAAA,6BACPC,CAAS;AAAA;AAAA;AAAA,EAO/B,SAASC,EAAcC,EAAM,CAClC,MAAMC,EAAqBD,EAAK,IAAIT,CAAa,EAAE,KAAK,EAAE,EAC1DF,EAAQ,UAAYY,EAGhBX,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIY,EAAe,gBAAiB,CAC7C,aAAc,MACd,aAAc,GACpB,CAAK,CAEL,CAGO,SAASC,GAAe,CAC7Bd,EAAQ,UAAY,EACtB,CCrDO,MAAMe,EAAmBC,GAAS,CACvC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,SAAU,IACV,YAAa,aACb,WAAY,EAChB,CAAG,EACD,eAAQ,IAAIC,EAAO,SAAU,CAAA,EAEtB,MAAM,4BAA4BA,CAAM,EAAE,EAAE,KAAKC,GAAY,CAClE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECbMC,EAAO,CACX,WAAY,SAAS,cAAc,UAAU,CAC/C,EAGMC,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EAEpB,MAAML,EAAQK,EAAM,cAAc,SAAS,YAAY,MAAM,OAGzDL,IAAU,IAKdD,EAAiBC,CAAK,EACnB,KAAK,CAAC,CAAE,KAAAL,KAAW,CAClB,GAAIA,EAAK,SAAW,EAAG,CACrBW,EAAS,MAAM,CACb,MAAO,GACP,WAAY,OACZ,QACE,4EACF,SAAU,WACV,KAAM,GACN,MAAO,GACP,aAAc,OACd,gBAAiB,SAC3B,CAAS,EAEDH,EAAK,WAAW,QAChBL,IACA,MACD,CAGDJ,EAAcC,CAAI,EAClBQ,EAAK,WAAW,OACtB,CAAK,EACA,MAAMI,GAAO,CACZ,QAAQ,MAAMA,CAAG,CACvB,CAAK,CACL,EAEAJ,EAAK,WAAW,iBAAiB,SAAUC,CAAY"}